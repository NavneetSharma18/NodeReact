{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axios from 'axios';\naxios.defaults.withCredentials = true;\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\nconst initialState = {\n  cartItems: [],\n  newItem: null,\n  totalPrice: null,\n  subTotal: null,\n  shippingCost: 4\n};\n\n/*-------------------------------------------------\n| Create Redux Thunk For Api Call ASYNC\n---------------------------------------------------*/\n\nexport const addProductToCart = product => async dispatch => {\n  try {\n    dispatch(addToCart(product));\n    toast.success(product.product_title + ' is added to your cart successfully!', {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  } catch (error) {\n    toast.error('Error during login:' + error, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  }\n};\n\n/*-------------------------------------------------\n| Create Redux Slice and Reducer Function\n---------------------------------------------------*/\n\nexport const productApiSlice = createSlice({\n  name: 'product_api',\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      state.newItem = action.payload;\n      const isItemPresent = state.cartItems.some(item => item._id === state.newItem._id && item.product_price === state.newItem.product_price);\n      if (!isItemPresent) {\n        state.cartItems.push(state.newItem);\n      }\n      state.subTotal = state.cartItems.reduce((acc, item) => acc + item.product_price * 1, 0);\n      state.totalPrice = state.subTotal * 1 + state.shippingCost * 1;\n    }\n  }\n});\nexport const {\n  addToCart\n} = productApiSlice.actions;\nexport default productApiSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","ToastContainer","toast","axios","defaults","withCredentials","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","initialState","cartItems","newItem","totalPrice","subTotal","shippingCost","addProductToCart","product","dispatch","addToCart","success","product_title","position","POSITION","TOP_RIGHT","error","productApiSlice","name","reducers","state","action","payload","isItemPresent","some","item","_id","product_price","push","reduce","acc","actions","reducer"],"sources":["/Users/navneetprogrammer/Desktop/NodeReact/frontend/src/redux/productApi/index.js"],"sourcesContent":["import { createSlice,createAsyncThunk } from '@reduxjs/toolkit'\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axios from 'axios';\naxios.defaults.withCredentials = true\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL\n\nconst initialState = {\n\n  cartItems   : [],\n  newItem     : null,\n  totalPrice  : null,\n  subTotal    : null,\n  shippingCost: 4\n\n}\n\n\n\n/*-------------------------------------------------\n| Create Redux Thunk For Api Call ASYNC\n---------------------------------------------------*/\n\nexport const addProductToCart = (product) => async (dispatch) => {\n\n    try {   \n          \n          dispatch(addToCart(product));\n          toast.success(product.product_title+' is added to your cart successfully!', {\n              position: toast.POSITION.TOP_RIGHT,\n            });\n\n    }catch (error) {\n\n            toast.error('Error during login:'+error, {\n              position: toast.POSITION.TOP_RIGHT,\n            });\n    }\n\n\n}\n\n\n\n/*-------------------------------------------------\n| Create Redux Slice and Reducer Function\n---------------------------------------------------*/\n\n\nexport const productApiSlice = createSlice({\n\n  name: 'product_api',\n  initialState,\n  reducers: {\n\n          addToCart: (state, action) => {\n\n                  state.newItem       = action.payload;\n                  const isItemPresent = state.cartItems.some(item => item._id === state.newItem._id && item.product_price === state.newItem.product_price);\n                  if(!isItemPresent){\n                    state.cartItems.push(state.newItem);\n                  }\n                  state.subTotal   = state.cartItems.reduce((acc, item) => acc + item.product_price*1, 0);\n                  state.totalPrice = state.subTotal*1+state.shippingCost*1\n\n\n                  \n              \n          }\n  }\n})\n\nexport const { addToCart } = productApiSlice.actions;\nexport default productApiSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,EAACC,gBAAgB,QAAQ,kBAAkB;AAC/D,SAASC,cAAc,EAAEC,KAAK,QAAQ,gBAAgB;AACtD,OAAO,uCAAuC;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzBA,KAAK,CAACC,QAAQ,CAACC,eAAe,GAAG,IAAI;AAErC,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;AAEvD,MAAMC,YAAY,GAAG;EAEnBC,SAAS,EAAK,EAAE;EAChBC,OAAO,EAAO,IAAI;EAClBC,UAAU,EAAI,IAAI;EAClBC,QAAQ,EAAM,IAAI;EAClBC,YAAY,EAAE;AAEhB,CAAC;;AAID;AACA;AACA;;AAEA,OAAO,MAAMC,gBAAgB,GAAIC,OAAO,IAAK,MAAOC,QAAQ,IAAK;EAE7D,IAAI;IAEEA,QAAQ,CAACC,SAAS,CAACF,OAAO,CAAC,CAAC;IAC5Bf,KAAK,CAACkB,OAAO,CAACH,OAAO,CAACI,aAAa,GAAC,sCAAsC,EAAE;MACxEC,QAAQ,EAAEpB,KAAK,CAACqB,QAAQ,CAACC;IAC3B,CAAC,CAAC;EAEV,CAAC,QAAOC,KAAK,EAAE;IAEPvB,KAAK,CAACuB,KAAK,CAAC,qBAAqB,GAACA,KAAK,EAAE;MACvCH,QAAQ,EAAEpB,KAAK,CAACqB,QAAQ,CAACC;IAC3B,CAAC,CAAC;EACV;AAGJ,CAAC;;AAID;AACA;AACA;;AAGA,OAAO,MAAME,eAAe,GAAG3B,WAAW,CAAC;EAEzC4B,IAAI,EAAE,aAAa;EACnBjB,YAAY;EACZkB,QAAQ,EAAE;IAEFT,SAAS,EAAEA,CAACU,KAAK,EAAEC,MAAM,KAAK;MAEtBD,KAAK,CAACjB,OAAO,GAASkB,MAAM,CAACC,OAAO;MACpC,MAAMC,aAAa,GAAGH,KAAK,CAAClB,SAAS,CAACsB,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,GAAG,KAAKN,KAAK,CAACjB,OAAO,CAACuB,GAAG,IAAID,IAAI,CAACE,aAAa,KAAKP,KAAK,CAACjB,OAAO,CAACwB,aAAa,CAAC;MACxI,IAAG,CAACJ,aAAa,EAAC;QAChBH,KAAK,CAAClB,SAAS,CAAC0B,IAAI,CAACR,KAAK,CAACjB,OAAO,CAAC;MACrC;MACAiB,KAAK,CAACf,QAAQ,GAAKe,KAAK,CAAClB,SAAS,CAAC2B,MAAM,CAAC,CAACC,GAAG,EAAEL,IAAI,KAAKK,GAAG,GAAGL,IAAI,CAACE,aAAa,GAAC,CAAC,EAAE,CAAC,CAAC;MACvFP,KAAK,CAAChB,UAAU,GAAGgB,KAAK,CAACf,QAAQ,GAAC,CAAC,GAACe,KAAK,CAACd,YAAY,GAAC,CAAC;IAKhE;EACR;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEI;AAAU,CAAC,GAAGO,eAAe,CAACc,OAAO;AACpD,eAAed,eAAe,CAACe,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}