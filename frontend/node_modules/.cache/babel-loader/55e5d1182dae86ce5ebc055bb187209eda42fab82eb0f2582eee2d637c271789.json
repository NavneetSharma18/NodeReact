{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useSelector,useDispatch}from'react-redux';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;const AllProduct=()=>{const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;const[products,setProducts]=React.useState([]);const navigate=useNavigate();const auth=useSelector(state=>state.loginRes.isUserLogin);useEffect(()=>{getProducts();},[]);const getProducts=async()=>{/*---------------------------------\n    \t| Get products data to Node Js Api\n    \t-----------------------------------*/const user_id=auth?auth._id:'';axios(API_BASE_URL+\"/product/get-product\",{method:\"get\",withCredentials:true}).then(function(result){result=result.data;if(result.status==true){setProducts(result.msg);}else{toast.warning(result.msg,{position:toast.POSITION.TOP_RIGHT});}});};const deleteProduct=async id=>{axios(API_BASE_URL+'/product/delete-product/'+id,{method:\"delete\",withCredentials:true}).then(function(result){result=result.data;if(result.status==true){toast.success(result.msg,{position:toast.POSITION.TOP_RIGHT});getProducts();}else{toast.error(result.msg,{position:toast.POSITION.TOP_RIGHT});}});};const searchProduct=async event=>{const key=event.target.value;if(key){axios(API_BASE_URL+'/product/search/'+key,{method:\"get\",withCredentials:true}).then(function(result){result=result.data;if(result.status==true){setProducts(result.msg);}else{toast.error(result.msg,{position:toast.POSITION.TOP_RIGHT});}});}else{getProducts();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register_div\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" All Product\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search_box\",placeholder:\"Search product\",onChange:searchProduct}),/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sr. No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]}),products.length>0?products.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.product_title}),/*#__PURE__*/_jsx(\"td\",{children:item.product_description}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9\",item.product_price]}),/*#__PURE__*/_jsx(\"td\",{className:\"pro_img\",children:/*#__PURE__*/_jsx(\"img\",{width:\"100%\",src:'http://localhost:2000'+item.product_image})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>deleteProduct(item._id),children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary\",to:\"/update/\"+item._id,children:\"Update\"})]})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"no_result\",children:\"No result found..\"})})]})})]});};export default AllProduct;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","ToastContainer","toast","useSelector","useDispatch","axios","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","AllProduct","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","products","setProducts","navigate","auth","state","loginRes","isUserLogin","getProducts","user_id","_id","method","then","result","data","status","msg","warning","position","POSITION","TOP_RIGHT","deleteProduct","id","success","error","searchProduct","event","key","target","value","className","children","type","placeholder","onChange","length","map","item","index","product_title","product_description","product_price","width","src","product_image","onClick","to","colSpan"],"sources":["/Users/navneetprogrammer/Desktop/NodeReact/frontend/src/components/Admin/Product/AllProducts.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { Link, useNavigate }  from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport axios from 'axios';\naxios.defaults.withCredentials = true\n\n\n\nconst AllProduct = ()=>{\n\n\tconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL\n\n    const [products,setProducts]  = React.useState([]); \n    const navigate                = useNavigate();\n    const auth                    = useSelector((state) => state.loginRes.isUserLogin);\n\n    useEffect(()=>{\n\n    \tgetProducts();\n    },[])\n\n    const getProducts = async ()=>{    \t\n\n    \t/*---------------------------------\n    \t| Get products data to Node Js Api\n    \t-----------------------------------*/\n\n    \tconst user_id = (auth)?auth._id:'';\n\n    \t  axios(API_BASE_URL+\"/product/get-product\", {\n              method: \"get\",\n              withCredentials: true\n            }).then(function (result) {\n            \t\tresult = result.data\n            \t if(result.status == true){\n\t\t\t\t\t    \t\tsetProducts(result.msg);\n\t\t\t\t\t    \t}else{\n\n\t\t\t\t\t    \t    toast.warning(result.msg, {\n\t\t\t\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t\t\t\t    });\n\t\t\t\t\t    \t}\n            });\n    \t\n    }\n\n    const deleteProduct = async (id)=>{\n\n\n\n    \t axios(API_BASE_URL+'/product/delete-product/'+id, {\n              method: \"delete\",\n              withCredentials: true\n            }).then(function (result) {\n            \t\n            \tresult = result.data\n\t\t\t\t    \tif(result.status == true){\n\t\t\t\t    \t\ttoast.success(result.msg, {\n\t\t\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t\t\t    });\n\t\t\t\t    \t\tgetProducts();\n\t\t\t\t    \t}else{\n\t\t\t\t    \t\ttoast.error(result.msg, {\n\t\t\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t\t\t    });\n\t\t\t\t    \t}\n            });\n\n    \t\n    }\n\n    const searchProduct = async(event)=>{\n\n    \tconst key = event.target.value;\n\n    \tif(key){\n\n    \t\t\taxios(API_BASE_URL+'/product/search/'+key, {\n\t              method: \"get\",\n\t              withCredentials: true\n\t            }).then(function (result) {\n\t            \t\n\t            \t result = result.data\n\t            \t if(result.status == true){\n\t\t\t\t\t\t    \t\tsetProducts(result.msg);\n\t\t\t\t\t\t    \t\t\n\t\t\t\t\t\t    \t}else{\n\t\t\t\t\t\t    \t\ttoast.error(result.msg, {\n\t\t\t\t\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t\t\t\t\t    });\n\t\t\t\t\t\t    \t}\n\t            });\n\n\t\t    \t\n\n    \t}else{\n    \t\tgetProducts();\n    \t}\n    }\n\n\treturn (\n\n\t\t<div className=\"register_div\">\n\t\t <h2> All Product</h2>\n\t\t <input type=\"text\" className=\"search_box\" placeholder=\"Search product\" onChange={searchProduct} />\n\t\t <table>\n\t\t <tbody>\n\t\t\t  <tr>\n\t\t\t     <th>Sr. No</th>\n\t\t\t     <th>Product Name</th>\n\t\t\t     <th>Product Description</th>\n\t\t\t     <th>Product Price</th>\n\t\t\t     <th>Product Image</th>\n\t\t\t     <th>Action</th>\n\t\t\t  </tr>\n\t\t\t  {\n\t\t\t  \tproducts.length>0 ? products.map((item,index)=>\n\n\t\t\t  \t\t<tr key={index}>\n\t\t\t\t\t    <td>{index+1}</td>\n\t\t\t\t\t    <td>{item.product_title}</td>\n\t\t\t\t\t    <td>{item.product_description}</td>\n\t\t\t\t\t    <td>â‚¹{item.product_price}</td>\n\t\t\t\t\t    <td className='pro_img'><img width='100%' src={'http://localhost:2000'+item.product_image} /></td>\n\t\t\t\t\t    <td><button className='btn btn-danger' onClick={()=>deleteProduct(item._id)}>Delete</button>\n\t\t\t\t\t    \t<Link className='btn btn-primary' to={\"/update/\"+item._id}>Update</Link>\n\t\t\t\t\t    </td>\n\t\t\t\t\t  </tr>\n\t\t\t  \t)\n\t\t\t  \t:<tr><td colSpan=\"5\" className=\"no_result\">No result found..</td></tr>\n\t\t\t  }\n\t\t\t  \n\t\t\t </tbody>\n\t\t\t</table>\n\n\t\t\n\t\t</div>\n\t)\n\n}\n\nexport default AllProduct"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}