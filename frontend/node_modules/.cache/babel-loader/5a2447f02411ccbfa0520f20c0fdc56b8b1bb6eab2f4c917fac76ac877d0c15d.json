{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useSearchParams}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useSelector,useDispatch}from'react-redux';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;const Thankyou=()=>{const[searchParams]=useSearchParams();const[checkoutProductData,setCheckoutProductData]=useState(['']);const[checkoutProducts,setCheckoutProducts]=useState(['']);const auth=useSelector(state=>state.loginRes.userId);const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;//console.log(API_BASE_URL)\nuseEffect(()=>{axios(\"http://localhost:2000/payment/get-order\",{method:\"post\",data:{sessionId:searchParams.get('session_id')}//withCredentials: true\n}).then(function(result){result=result.data;if(result.status==true){setCheckoutProductData(result.orderData);setCheckoutProducts(result.orderData.products);}else{toast.warning(result.msg,{position:toast.POSITION.TOP_RIGHT});}});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"register_div\",children:/*#__PURE__*/_jsx(\"div\",{className:\"justify-center items-center   text-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md relative  p-3 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-xxl font-bold text-white\",children:\"\\u2764 Your order has been received Thanks!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-2 my-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-xl font-bold text-white\",children:\"ORDER\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-xs font-bold text-white\",children:\"The order details\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-xs font-bold mb-1 text-white\",children:\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs pl-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs mb-1 text-white\",children:[\"Customer\\uFF1A\",checkoutProductData.shipping_address?checkoutProductData.shipping_address.name:'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs mb-1 text-white\",children:[\"TelePhone\\uFF1A\",checkoutProductData.shipping_address?checkoutProductData.shipping_address.phone:'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[\"OrderNumber\\uFF1A\",checkoutProductData._id]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-double border-t-4 border-b-4 border-l-0 border-r-0 border-white-900 my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex text-sm pt-1 px-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2/6 text-white\",children:\"Name\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-2/6 text-right text-white\",children:\"Price\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-2/6 text-right text-white\",children:\"Qty\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-dashed border-t border-b border-l-0 border-r-0 border-whit-900 mt-1 my-2 py-2 px-1\",children:checkoutProducts.length>0?checkoutProducts.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2/6 truncate text-white\",children:item.description}),/*#__PURE__*/_jsxs(\"span\",{className:\"w-2/6 text-right text-white\",children:[\"\\u20B9\",item.amount_total/100]}),/*#__PURE__*/_jsx(\"span\",{className:\"w-2/6 text-right text-white\",children:item.quantity})]})):'No result found'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs gtotal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold text-sm text-white\",children:[\"Sub Total    : \\u20B9\",checkoutProductData.sub_total]}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold text-sm text-white\",children:[\"Total       : \\u20B9\",checkoutProductData.total]})]})})]})})});};export default Thankyou;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSearchParams","ToastContainer","toast","useSelector","useDispatch","axios","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","Thankyou","searchParams","checkoutProductData","setCheckoutProductData","checkoutProducts","setCheckoutProducts","auth","state","loginRes","userId","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","method","data","sessionId","get","then","result","status","orderData","products","warning","msg","position","POSITION","TOP_RIGHT","className","children","shipping_address","name","phone","_id","length","map","item","index","description","amount_total","quantity","sub_total","total"],"sources":["/Users/navneetprogrammer/Desktop/NodeReact/frontend/src/components/User/Thankyou.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { useNavigate,useSearchParams }  from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport axios from 'axios';\naxios.defaults.withCredentials = true\n\n\nconst Thankyou = ()=>{\n\n  const [searchParams] = useSearchParams();\n  const [checkoutProductData,  setCheckoutProductData] = useState(['']);\n  const [checkoutProducts,  setCheckoutProducts] = useState(['']);\n\n\n  const auth  = useSelector((state) => state.loginRes.userId);\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL\n  //console.log(API_BASE_URL)\n  \n  useEffect(()=>{\n\n    axios(\"http://localhost:2000/payment/get-order\", {\n      method: \"post\",\n      data:{sessionId:searchParams.get('session_id')},\n      //withCredentials: true\n    }).then(function (result) {\n        result = result.data\n       if(result.status == true){\n          setCheckoutProductData(result.orderData);\n          setCheckoutProducts(result.orderData.products)\n         \n        }else{\n\n            toast.warning(result.msg, {\n            position: toast.POSITION.TOP_RIGHT,\n          });\n        }\n    });\n\n  },[])\n\n  \n\n  return (\n\n           <div className=\"register_div\">\n            \n                      <div className=\"justify-center items-center   text-gray-900\">\n                        <div className=\"rounded-md relative  p-3 \">\n                          <div className='text-center text-xxl font-bold text-white'>❤ Your order has been received Thanks!</div>\n\n                          <div className=\"py-2 my-4\">\n                            <div className=\"text-center text-xl font-bold text-white\">ORDER</div>\n                            <div className=\"text-center text-xs font-bold text-white\">The order details</div>\n                          </div>\n                          <div className=\"text-center text-xs font-bold mb-1 text-white\">~~~~~~~~~~~~~~~~~~~~~~~~~~~~</div>\n                          <div className=\"text-xs pl-2\">\n                            <div className=\"text-xs mb-1 text-white\">Customer：{checkoutProductData.shipping_address?checkoutProductData.shipping_address.name:''}</div>\n                            <div className=\"text-xs mb-1 text-white\">TelePhone：{checkoutProductData.shipping_address?checkoutProductData.shipping_address.phone:''}</div>\n                            <div className=\"text-white\">OrderNumber：{checkoutProductData._id}</div>\n                          </div>\n                          <div className=\"border-double border-t-4 border-b-4 border-l-0 border-r-0 border-white-900 my-3\">\n                           \n                            <div className=\"flex text-sm pt-1 px-1\">\n                              <span className=\"w-2/6 text-white\">Name</span>\n                              <span className=\"w-2/6 text-right text-white\">Price</span>\n                              <span className=\"w-2/6 text-right text-white\">Qty</span>\n                            </div>\n\n                            <div className=\"border-dashed border-t border-b border-l-0 border-r-0 border-whit-900 mt-1 my-2 py-2 px-1\">\n                              {\n\t\t\t\t\t  \t                   checkoutProducts.length>0 ? checkoutProducts.map((item,index)=>\n                                  <div className=\"flex justify-between text-sm\">\n                                    <span className=\"w-2/6 truncate text-white\">{item.description}</span>\n                                    <span className=\"w-2/6 text-right text-white\">₹{item.amount_total/100}</span>\n                                    <span className=\"w-2/6 text-right text-white\">{item.quantity}</span>\n                                  </div>\n                              )\n                              :'No result found'\n                            }\n                            </div>\n\n                          </div>\n                          <div className=\"text-xs gtotal\">\n                          <div className=\"text-right\">\n                             <div className=\"font-bold text-sm text-white\">Sub Total    : ₹{checkoutProductData.sub_total}</div>\n                              <div className=\"font-bold text-sm text-white\">Total       : ₹{checkoutProductData.total}</div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n              </div>\n        )\n\n}\n\nexport default Thankyou\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}