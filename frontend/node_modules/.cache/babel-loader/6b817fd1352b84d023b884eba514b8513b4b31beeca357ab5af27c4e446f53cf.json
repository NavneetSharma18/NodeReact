{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axios from 'axios';\naxios.defaults.withCredentials = true;\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\nconst initialState = {\n  cartItems: [],\n  newItem: null,\n  totalPrice: null,\n  subTotal: null,\n  shippingCost: 4\n};\n\n/*-------------------------------------------------\n| Create Redux Thunk For Api Call ASYNC\n---------------------------------------------------*/\n\nexport const addProductToCart = product => async dispatch => {\n  try {\n    dispatch(addToCart(product));\n  } catch (error) {\n    toast.error('Error during login:' + error, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  }\n};\n\n/*-------------------------------------------------\n| Increase Product Qty\n---------------------------------------------------*/\n\nexport const qtyIncrease = (product, qty) => async dispatch => {\n  try {\n    dispatch(incProductQty(product, qty));\n  } catch (error) {\n    toast.error('Error in increment prodct qty:' + error, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  }\n};\n\n/*-------------------------------------------------\n| Decrease Product Qty\n---------------------------------------------------*/\n\nexport const qtyDecrease = (product, qty) => async dispatch => {\n  try {\n    dispatch(decProductQty(product, qty));\n  } catch (error) {\n    toast.error('Error in decrement prodct qty:' + error, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  }\n};\n\n/*-------------------------------------------------\n| Create Redux Slice and Reducer Function\n---------------------------------------------------*/\n\nexport const productApiSlice = createSlice({\n  name: 'product_api',\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      state.newItem = action.payload;\n      const isItemPresent = state.cartItems.some(item => item._id === state.newItem._id && item.product_price === state.newItem.product_price);\n      if (!isItemPresent) {\n        state.cartItems.push(state.newItem);\n        toast.success(state.newItem.product_title + ' is added to your cart successfully!', {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n      state.subTotal = state.cartItems.reduce((acc, item) => acc + item.product_price * 1, 0);\n      state.totalPrice = state.subTotal * 1 + state.shippingCost * 1;\n    }\n  }\n});\nexport const {\n  addToCart\n} = productApiSlice.actions;\nexport default productApiSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","ToastContainer","toast","axios","defaults","withCredentials","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","initialState","cartItems","newItem","totalPrice","subTotal","shippingCost","addProductToCart","product","dispatch","addToCart","error","position","POSITION","TOP_RIGHT","qtyIncrease","qty","incProductQty","qtyDecrease","decProductQty","productApiSlice","name","reducers","state","action","payload","isItemPresent","some","item","_id","product_price","push","success","product_title","reduce","acc","actions","reducer"],"sources":["/Users/navneetprogrammer/Desktop/NodeReact/frontend/src/redux/productApi/index.js"],"sourcesContent":["import { createSlice,createAsyncThunk } from '@reduxjs/toolkit'\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axios from 'axios';\naxios.defaults.withCredentials = true\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL\n\nconst initialState = {\n\n  cartItems   : [],\n  newItem     : null,\n  totalPrice  : null,\n  subTotal    : null,\n  shippingCost: 4\n\n}\n\n\n\n/*-------------------------------------------------\n| Create Redux Thunk For Api Call ASYNC\n---------------------------------------------------*/\n\nexport const addProductToCart = (product) => async (dispatch) => {\n\n    try {   \n          \n          dispatch(addToCart(product));\n          \n\n    }catch (error) {\n\n            toast.error('Error during login:'+error, {\n              position: toast.POSITION.TOP_RIGHT,\n            });\n    }\n\n\n}\n\n\n/*-------------------------------------------------\n| Increase Product Qty\n---------------------------------------------------*/\n\nexport const qtyIncrease = (product,qty) => async (dispatch) => {\n\n    try {   \n          \n          dispatch(incProductQty(product,qty));\n          \n\n    }catch (error) {\n\n            toast.error('Error in increment prodct qty:'+error, {\n              position: toast.POSITION.TOP_RIGHT,\n            });\n    }\n\n\n}\n\n/*-------------------------------------------------\n| Decrease Product Qty\n---------------------------------------------------*/\n\nexport const qtyDecrease = (product,qty) => async (dispatch) => {\n\n    try {   \n          \n          dispatch(decProductQty(product,qty));\n          \n\n    }catch (error) {\n\n            toast.error('Error in decrement prodct qty:'+error, {\n              position: toast.POSITION.TOP_RIGHT,\n            });\n    }\n\n\n}\n\n\n\n/*-------------------------------------------------\n| Create Redux Slice and Reducer Function\n---------------------------------------------------*/\n\n\nexport const productApiSlice = createSlice({\n\n  name: 'product_api',\n  initialState,\n  reducers: {\n\n          addToCart: (state, action) => {\n\n                  state.newItem       = action.payload;\n                  const isItemPresent = state.cartItems.some(item => item._id === state.newItem._id && item.product_price === state.newItem.product_price);\n                  if(!isItemPresent){\n                    state.cartItems.push(state.newItem);\n                    toast.success(state.newItem.product_title+' is added to your cart successfully!', {\n                      position: toast.POSITION.TOP_RIGHT,\n                    });\n                  }\n                  state.subTotal   = state.cartItems.reduce((acc, item) => acc + item.product_price*1, 0);\n                  state.totalPrice = state.subTotal*1+state.shippingCost*1    \n              \n          }\n  }\n})\n\nexport const { addToCart } = productApiSlice.actions;\nexport default productApiSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,EAACC,gBAAgB,QAAQ,kBAAkB;AAC/D,SAASC,cAAc,EAAEC,KAAK,QAAQ,gBAAgB;AACtD,OAAO,uCAAuC;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzBA,KAAK,CAACC,QAAQ,CAACC,eAAe,GAAG,IAAI;AAErC,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;AAEvD,MAAMC,YAAY,GAAG;EAEnBC,SAAS,EAAK,EAAE;EAChBC,OAAO,EAAO,IAAI;EAClBC,UAAU,EAAI,IAAI;EAClBC,QAAQ,EAAM,IAAI;EAClBC,YAAY,EAAE;AAEhB,CAAC;;AAID;AACA;AACA;;AAEA,OAAO,MAAMC,gBAAgB,GAAIC,OAAO,IAAK,MAAOC,QAAQ,IAAK;EAE7D,IAAI;IAEEA,QAAQ,CAACC,SAAS,CAACF,OAAO,CAAC,CAAC;EAGlC,CAAC,QAAOG,KAAK,EAAE;IAEPlB,KAAK,CAACkB,KAAK,CAAC,qBAAqB,GAACA,KAAK,EAAE;MACvCC,QAAQ,EAAEnB,KAAK,CAACoB,QAAQ,CAACC;IAC3B,CAAC,CAAC;EACV;AAGJ,CAAC;;AAGD;AACA;AACA;;AAEA,OAAO,MAAMC,WAAW,GAAGA,CAACP,OAAO,EAACQ,GAAG,KAAK,MAAOP,QAAQ,IAAK;EAE5D,IAAI;IAEEA,QAAQ,CAACQ,aAAa,CAACT,OAAO,EAACQ,GAAG,CAAC,CAAC;EAG1C,CAAC,QAAOL,KAAK,EAAE;IAEPlB,KAAK,CAACkB,KAAK,CAAC,gCAAgC,GAACA,KAAK,EAAE;MAClDC,QAAQ,EAAEnB,KAAK,CAACoB,QAAQ,CAACC;IAC3B,CAAC,CAAC;EACV;AAGJ,CAAC;;AAED;AACA;AACA;;AAEA,OAAO,MAAMI,WAAW,GAAGA,CAACV,OAAO,EAACQ,GAAG,KAAK,MAAOP,QAAQ,IAAK;EAE5D,IAAI;IAEEA,QAAQ,CAACU,aAAa,CAACX,OAAO,EAACQ,GAAG,CAAC,CAAC;EAG1C,CAAC,QAAOL,KAAK,EAAE;IAEPlB,KAAK,CAACkB,KAAK,CAAC,gCAAgC,GAACA,KAAK,EAAE;MAClDC,QAAQ,EAAEnB,KAAK,CAACoB,QAAQ,CAACC;IAC3B,CAAC,CAAC;EACV;AAGJ,CAAC;;AAID;AACA;AACA;;AAGA,OAAO,MAAMM,eAAe,GAAG9B,WAAW,CAAC;EAEzC+B,IAAI,EAAE,aAAa;EACnBpB,YAAY;EACZqB,QAAQ,EAAE;IAEFZ,SAAS,EAAEA,CAACa,KAAK,EAAEC,MAAM,KAAK;MAEtBD,KAAK,CAACpB,OAAO,GAASqB,MAAM,CAACC,OAAO;MACpC,MAAMC,aAAa,GAAGH,KAAK,CAACrB,SAAS,CAACyB,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,GAAG,KAAKN,KAAK,CAACpB,OAAO,CAAC0B,GAAG,IAAID,IAAI,CAACE,aAAa,KAAKP,KAAK,CAACpB,OAAO,CAAC2B,aAAa,CAAC;MACxI,IAAG,CAACJ,aAAa,EAAC;QAChBH,KAAK,CAACrB,SAAS,CAAC6B,IAAI,CAACR,KAAK,CAACpB,OAAO,CAAC;QACnCV,KAAK,CAACuC,OAAO,CAACT,KAAK,CAACpB,OAAO,CAAC8B,aAAa,GAAC,sCAAsC,EAAE;UAChFrB,QAAQ,EAAEnB,KAAK,CAACoB,QAAQ,CAACC;QAC3B,CAAC,CAAC;MACJ;MACAS,KAAK,CAAClB,QAAQ,GAAKkB,KAAK,CAACrB,SAAS,CAACgC,MAAM,CAAC,CAACC,GAAG,EAAEP,IAAI,KAAKO,GAAG,GAAGP,IAAI,CAACE,aAAa,GAAC,CAAC,EAAE,CAAC,CAAC;MACvFP,KAAK,CAACnB,UAAU,GAAGmB,KAAK,CAAClB,QAAQ,GAAC,CAAC,GAACkB,KAAK,CAACjB,YAAY,GAAC,CAAC;IAEhE;EACR;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEI;AAAU,CAAC,GAAGU,eAAe,CAACgB,OAAO;AACpD,eAAehB,eAAe,CAACiB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}