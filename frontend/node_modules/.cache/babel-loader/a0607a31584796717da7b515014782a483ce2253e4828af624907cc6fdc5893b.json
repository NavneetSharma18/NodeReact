{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axios from 'axios';\naxios.defaults.withCredentials = true;\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\nconst initialState = {\n  cartItems: [],\n  newItem: null,\n  totalPrice: null,\n  subTotal: null,\n  shippingCost: 4\n};\n\n/*-------------------------------------------------\n| Create Redux Thunk For Api Call ASYNC\n---------------------------------------------------*/\n\nexport const addProductToCart = product => async dispatch => {\n  try {\n    dispatch(addToCart(product));\n  } catch (error) {\n    toast.error('Error during login:' + error, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  }\n};\n\n/*-------------------------------------------------\n| Increase Product Qty\n---------------------------------------------------*/\n\nexport const qtyIncrease = product => async dispatch => {\n  try {\n    dispatch(incProductQty(product));\n  } catch (error) {\n    toast.error('Error in increment product qty:' + error, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  }\n};\n\n/*-------------------------------------------------\n| Decrease Product Qty\n---------------------------------------------------*/\n\nexport const qtyDecrease = product => async dispatch => {\n  try {\n    dispatch(decProductQty(product));\n  } catch (error) {\n    toast.error('Error in decrement product qty:' + error, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  }\n};\n\n/*-------------------------------------------------\n| Remove Product From Cart \n---------------------------------------------------*/\n\nexport const removeProduct = product => async dispatch => {\n  try {\n    dispatch(removeProductCart(product));\n  } catch (error) {\n    toast.error('Error in removing product:' + error, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  }\n};\n\n/*-------------------------------------------------\n| Create Redux Slice and Reducer Function\n---------------------------------------------------*/\n\nexport const productApiSlice = createSlice({\n  name: 'product_api',\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      state.newItem = action.payload;\n      const isItemPresent = state.cartItems.some(item => item._id === state.newItem._id && item.product_price === state.newItem.product_price);\n      if (!isItemPresent) {\n        state.cartItems.push(state.newItem);\n        toast.success(state.newItem.product_title + ' is added to your cart successfully!', {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n      state.subTotal = state.cartItems.reduce((acc, item) => acc + item.product_price * item.qty, 0);\n      state.totalPrice = state.subTotal * 1 + state.shippingCost * 1;\n    },\n    incProductQty: (state, action) => {\n      state.newItem = action.payload;\n      let index = state.cartItems.findIndex(product => product._id === state.newItem._id);\n      if (index !== -1) {\n        state.cartItems[index].qty += 1;\n        state.subTotal = state.cartItems.reduce((acc, item) => acc + item.product_price * item.qty, 0);\n        state.totalPrice = state.subTotal * 1 + state.shippingCost * 1;\n      }\n    },\n    decProductQty: (state, action) => {\n      state.newItem = action.payload;\n      let index = state.cartItems.findIndex(product => product._id === state.newItem._id);\n      if (index !== -1) {\n        state.cartItems[index].qty -= 1;\n        state.subTotal = state.cartItems.reduce((acc, item) => acc + item.product_price * item.qty, 0);\n        state.totalPrice = state.subTotal * 1 + state.shippingCost * 1;\n      }\n    },\n    removeProductCart: (state, action) => {\n      state.newItem = action.payload;\n      const newCartItems = state.cartItems.filter(item => item_id !== state.newItem._id);\n      state.cartItems = newCartItems;\n    }\n  }\n});\nexport const {\n  addToCart,\n  incProductQty,\n  decProductQty,\n  removeProductCart\n} = productApiSlice.actions;\nexport default productApiSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","ToastContainer","toast","axios","defaults","withCredentials","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","initialState","cartItems","newItem","totalPrice","subTotal","shippingCost","addProductToCart","product","dispatch","addToCart","error","position","POSITION","TOP_RIGHT","qtyIncrease","incProductQty","qtyDecrease","decProductQty","removeProduct","removeProductCart","productApiSlice","name","reducers","state","action","payload","isItemPresent","some","item","_id","product_price","push","success","product_title","reduce","acc","qty","index","findIndex","newCartItems","filter","item_id","actions","reducer"],"sources":["/Users/navneetprogrammer/Desktop/NodeReact/frontend/src/redux/productApi/index.js"],"sourcesContent":["import { createSlice,createAsyncThunk } from '@reduxjs/toolkit'\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axios from 'axios';\naxios.defaults.withCredentials = true\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL\n\nconst initialState = {\n\n  cartItems   : [],\n  newItem     : null,\n  totalPrice  : null,\n  subTotal    : null,\n  shippingCost: 4\n\n}\n\n\n\n/*-------------------------------------------------\n| Create Redux Thunk For Api Call ASYNC\n---------------------------------------------------*/\n\nexport const addProductToCart = (product) => async (dispatch) => {\n\n    try {   \n          \n          dispatch(addToCart(product));\n          \n\n    }catch (error) {\n\n            toast.error('Error during login:'+error, {\n              position: toast.POSITION.TOP_RIGHT,\n            });\n    }\n\n\n}\n\n\n/*-------------------------------------------------\n| Increase Product Qty\n---------------------------------------------------*/\n\nexport const qtyIncrease = (product) => async (dispatch) => {\n\n    try {   \n          \n          dispatch(incProductQty(product));\n          \n\n    }catch (error) {\n\n            toast.error('Error in increment product qty:'+error, {\n              position: toast.POSITION.TOP_RIGHT,\n            });\n    }\n\n\n}\n\n/*-------------------------------------------------\n| Decrease Product Qty\n---------------------------------------------------*/\n\nexport const qtyDecrease = (product) => async (dispatch) => {\n\n    try {   \n          \n          dispatch(decProductQty(product));\n          \n\n    }catch (error) {\n\n            toast.error('Error in decrement product qty:'+error, {\n              position: toast.POSITION.TOP_RIGHT,\n            });\n    }\n\n\n}\n\n\n/*-------------------------------------------------\n| Remove Product From Cart \n---------------------------------------------------*/\n\nexport const removeProduct = (product) => async (dispatch) => {\n\n  try {   \n        \n        dispatch(removeProductCart(product));\n        \n\n  }catch (error) {\n\n          toast.error('Error in removing product:'+error, {\n            position: toast.POSITION.TOP_RIGHT,\n          });\n  }\n\n\n}\n\n\n\n/*-------------------------------------------------\n| Create Redux Slice and Reducer Function\n---------------------------------------------------*/\n\n\nexport const productApiSlice = createSlice({\n\n  name: 'product_api',\n  initialState,\n  reducers: {\n\n          addToCart: (state, action) => {\n\n                  state.newItem       = action.payload;\n                  const isItemPresent = state.cartItems.some(item => item._id === state.newItem._id && item.product_price === state.newItem.product_price);\n                  if(!isItemPresent){\n                    \n                    state.cartItems.push(state.newItem);\n                    toast.success(state.newItem.product_title+' is added to your cart successfully!', {\n                      position: toast.POSITION.TOP_RIGHT,\n                    });\n                  }\n                  state.subTotal   = state.cartItems.reduce((acc, item) => acc + item.product_price*item.qty, 0);\n                  state.totalPrice = state.subTotal*1+state.shippingCost*1    \n              \n          },\n          incProductQty: (state, action) => {\n\n                  state.newItem  = action.payload;\n                  let index =  state.cartItems.findIndex(product => product._id === state.newItem._id);\n                  if (index !== -1) {\n                     state.cartItems[index].qty += 1;\n                     state.subTotal   = state.cartItems.reduce((acc, item) => acc + item.product_price*item.qty, 0);\n                     state.totalPrice = state.subTotal*1+state.shippingCost*1  \n                      \n                  } \n            \n          },\n          decProductQty: (state, action) => {\n\n            state.newItem  = action.payload;\n            let index =  state.cartItems.findIndex(product => product._id === state.newItem._id);\n            if (index !== -1) {\n                state.cartItems[index].qty -= 1;\n                state.subTotal   = state.cartItems.reduce((acc, item) => acc + item.product_price*item.qty, 0);\n                state.totalPrice = state.subTotal*1+state.shippingCost*1  \n                \n            }   \n        \n          },\n          removeProductCart: (state, action) => {\n\n            state.newItem      = action.payload;\n            const newCartItems = state.cartItems.filter(item => item_id !== state.newItem._id)\n            state.cartItems    = newCartItems\n          }\n  }\n})\n\nexport const { addToCart,incProductQty,decProductQty,removeProductCart } = productApiSlice.actions;\nexport default productApiSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}