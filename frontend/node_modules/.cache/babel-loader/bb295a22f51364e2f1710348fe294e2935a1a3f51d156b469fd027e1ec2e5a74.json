{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useParams}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useSelector,useDispatch}from'react-redux';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;const UpdateProduct=()=>{const param=useParams();useEffect(()=>{getSingleProduct(param);},[]);const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;const[product_title,setName]=React.useState(\"\");const[product_description,setDesc]=React.useState(\"\");const[product_price,setPrice]=React.useState(\"\");const[error,setError]=React.useState(false);const navigate=useNavigate();const auth=useSelector(state=>state.loginRes.isUserLogin);const getSingleProduct=async param=>{// Get product by Id\naxios(API_BASE_URL+'/product/get-single-product/'+param.id,{method:\"get\",withCredentials:true}).then(function(result){result=result.data;if(result.status==true){setName(result.msg.product_title);setDesc(result.msg.product_description);setPrice(result.msg.product_price);}else{toast.warning(result.msg,{position:toast.POSITION.TOP_RIGHT});}});};const updateProductData=async()=>{axios('http://localhost:2000/product/update-product/'+param.id,{method:\"put\",data:{product_title,product_description,product_price},withCredentials:true}).then(function(result){result=result.data;if(result.status==true){toast.success(result.msg,{position:toast.POSITION.TOP_RIGHT});navigate('/');}else{toast.error(result.msg,{position:toast.POSITION.TOP_RIGHT});}});};return/*#__PURE__*/_jsx(\"div\",{className:\"register_div\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register_div1\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Update Product\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",value:product_title,onChange:e=>{setName(e.target.value);},type:\"text\",placeholder:\"Enter Product Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",value:product_description,onChange:e=>{setDesc(e.target.value);},type:\"textarea\",placeholder:\"Enter Product Description\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",value:product_price,onChange:e=>{setPrice(e.target.value);},type:\"text\",placeholder:\"Enter Product Price\"}),/*#__PURE__*/_jsx(\"button\",{onClick:updateProductData,className:\"appButton\",children:\"Update Product\"})]})});};export default UpdateProduct;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","ToastContainer","toast","useSelector","useDispatch","axios","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","UpdateProduct","param","getSingleProduct","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","product_title","setName","product_description","setDesc","product_price","setPrice","error","setError","navigate","auth","state","loginRes","isUserLogin","id","method","then","result","data","status","msg","warning","position","POSITION","TOP_RIGHT","updateProductData","success","className","children","value","onChange","e","target","type","placeholder","onClick"],"sources":["/Users/navneetprogrammer/Desktop/NodeReact/frontend/src/components/Admin/Product/UpdateProduct.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { useNavigate, useParams }  from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport axios from 'axios';\naxios.defaults.withCredentials = true\n\n\nconst UpdateProduct = ()=>{\n\n\tconst param = useParams();\n\n\tuseEffect(()=>{\n\t\t\tgetSingleProduct(param)\n\t},[])\n\n\tconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL\n\n\tconst [product_title,setName]       = React.useState(\"\");\n    const [product_description,setDesc] = React.useState(\"\");\n    const [product_price,setPrice]      = React.useState(\"\");\n    const [error,setError]              = React.useState(false);\n    \n    const navigate               = useNavigate();\n    const auth                   = useSelector((state) => state.loginRes.isUserLogin);\n    \n\n    const getSingleProduct = async (param)=>{\n\t\t\n\t\t// Get product by Id\n\n\t\t axios(API_BASE_URL+'/product/get-single-product/'+param.id, {\n              method: \"get\",\n              withCredentials: true\n            }).then(function (result) {\n\n            \t result = result.data\n            \t if(result.status == true){\n\n\t\t\t    \t\tsetName(result.msg.product_title);\n\t\t\t    \t\tsetDesc(result.msg.product_description);\n\t\t\t    \t\tsetPrice(result.msg.product_price);\n\n\t\t\t    \t}else{\n\n\t\t\t    \t    toast.warning(result.msg, {\n\t\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t\t    });\n\t\t\t    \t}\n            });\n\n    }\n\n    const updateProductData = async ()=>{\n    \t\n\n\n    \t axios('http://localhost:2000/product/update-product/'+param.id, {\n              method: \"put\",\n              data: {product_title,product_description,product_price},\n              withCredentials: true\n            }).then(function (result) {\n\n            \t result = result.data\n            \t if(result.status == true){\n\n\t\t    \t\ttoast.success(result.msg, {\n\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t    });\n\t\t\t\t    navigate('/');\n\n\t\t    \t }else{\n\n\t\t    \t \ttoast.error(result.msg, {\n\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t    });\n\t\t    \t }\n\n            });\n\n    }\n\n\treturn (\n\n\t\t<div className=\"register_div\">\n\t\t\t<div className=\"register_div1\">\n\t\t\t <h2> Update Product</h2>\n\t\t\t <input className=\"inputBox\" value={product_title} onChange={(e)=>{setName(e.target.value)}} type=\"text\" placeholder=\"Enter Product Name\"/>\n\t\t\t <input className=\"inputBox\" value={product_description} onChange={(e)=>{setDesc(e.target.value)}} type=\"textarea\" placeholder=\"Enter Product Description\"/>\n\t\t\t <input className=\"inputBox\" value={product_price} onChange={(e)=>{setPrice(e.target.value)}} type=\"text\" placeholder=\"Enter Product Price\"/>\n\t\t\t <button onClick={updateProductData} className=\"appButton\">Update Product</button>\n\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t)\n\n}\n\nexport default UpdateProduct"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}