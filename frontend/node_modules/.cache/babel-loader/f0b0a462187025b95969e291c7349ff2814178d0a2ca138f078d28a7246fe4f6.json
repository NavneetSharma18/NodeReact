{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useSearchParams,Link}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useSelector,useDispatch}from'react-redux';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;const Signup=()=>{const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(false);const[searchParams]=useSearchParams();const successMsg=searchParams.get('session_id');const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;const navigate=useNavigate();const auth=useSelector(state=>state.loginRes.isUserLogin);useEffect(()=>{if(auth){navigate('/');}});const sendData=async()=>{if(!name||!email||!password){setError(true);if(error&&!name){toast.error('Please enter your name',{position:toast.POSITION.TOP_RIGHT});return false;}if(error&&!email){toast.error('Please enter your email',{position:toast.POSITION.TOP_RIGHT});return false;}if(error&&!password){toast.error('Please enter your password',{position:toast.POSITION.TOP_RIGHT});return false;}return false;}/*---------------------------------\n    \t| Send data to Node Js Api\n    \t-----------------------------------*/axios(API_BASE_URL+'/user/register',{method:\"post\",data:{name,email,password},withCredentials:true}).then(function(res){const result=res.data;if(result.status==true){const res=result.data;delete res.password;const user=JSON.stringify(res);const token=result.token;toast.success(result.msg,{position:toast.POSITION.TOP_RIGHT});if(result){navigate('/login');}}else{toast.error(result.msg,{position:toast.POSITION.TOP_RIGHT});return false;}});};return/*#__PURE__*/_jsx(\"div\",{className:\"register_div\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register_div1\",children:[successMsg?/*#__PURE__*/_jsx(\"div\",{class:\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md\",role:\"alert\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"py-1\",children:/*#__PURE__*/_jsx(\"svg\",{class:\"fill-current h-6 w-6 text-teal-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{class:\"font-bold\",children:\"Thank you for shopping with us\"}),/*#__PURE__*/_jsxs(\"p\",{class:\"text-sm\",children:[\"Track you order detail here \",/*#__PURE__*/_jsx(Link,{to:\"/tankyou/?session_id=\".concat(successMsg),children:\"Go to Other Page\"}),\" \"]})]})]})}):'',/*#__PURE__*/_jsx(\"h2\",{children:\" Signup | Register\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",value:name,onChange:e=>{setName(e.target.value);},type:\"text\",placeholder:\"Enter Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",value:email,onChange:e=>{setEmail(e.target.value);},type:\"text\",placeholder:\"Enter Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",value:password,onChange:e=>{setPassword(e.target.value);},type:\"text\",placeholder:\"Enter Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"appButtonWrp\",children:/*#__PURE__*/_jsx(\"button\",{onClick:sendData,className:\"appButton\",children:\"Sign Up\"})})]})});};export default Signup;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSearchParams","Link","ToastContainer","toast","useSelector","useDispatch","axios","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","Signup","name","setName","email","setEmail","password","setPassword","error","setError","searchParams","successMsg","get","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","navigate","auth","state","loginRes","isUserLogin","sendData","position","POSITION","TOP_RIGHT","method","data","then","res","result","status","user","JSON","stringify","token","success","msg","className","children","class","role","xmlns","viewBox","d","to","concat","value","onChange","e","target","type","placeholder","onClick"],"sources":["/Users/navneetprogrammer/Desktop/NodeReact/frontend/src/components/Signup.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { useNavigate,useSearchParams,Link }  from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport axios from 'axios';\n\naxios.defaults.withCredentials = true\n\n\nconst Signup = ()=>{\n\n\n\tconst [name,setName]         = useState(\"\");\n    const [email,setEmail]       = useState(\"\");\n    const [password,setPassword] = useState(\"\");\n    const [error,setError]       = useState(false)\n\n\t\n\tconst [searchParams] = useSearchParams();\n\tconst successMsg      = searchParams.get('session_id');\n\n\tconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL\n\n    \n    const navigate               = useNavigate();\n    const auth                   = useSelector((state) => state.loginRes.isUserLogin);\n\n    useEffect(()=>{\n\n\t\tif(auth){\n\t\t\tnavigate('/')\n\t\t}\n\t})\n\n    const sendData = async ()=>{\n\n    \t\n    \tif(!name || !email || !password){\n\n    \t\tsetError(true);\n\n    \t\tif(error && !name){\n\n    \t\t\ttoast.error('Please enter your name', {\n\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t    });\n\t\t\t    return false;\n    \t\t}\n    \t\tif(error && !email){\n\n    \t\t\ttoast.error('Please enter your email', {\n\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t    });\n\t\t\t    return false;\n    \t\t}\n    \t\tif(error && !password){\n\n    \t\t\ttoast.error('Please enter your password', {\n\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t    });\n\t\t\t    return false;\n    \t\t}\n\n    \t\treturn false;\n    \t\t\n    \t}\n    \t\n\n    \t/*---------------------------------\n    \t| Send data to Node Js Api\n    \t-----------------------------------*/\n\n    \taxios(API_BASE_URL+'/user/register', {\n              method: \"post\",\n              data: {name,email,password},\n              withCredentials: true\n            }).then(function (res) {\n\n            const result = res.data;\n            if(result.status == true){\n\n\t    \t\tconst res     = result.data;\n\t    \t\tdelete res.password;\n\t    \t\tconst user    = JSON.stringify(res);\n\t    \t\tconst token   = result.token;\n\n\t    \t\ttoast.success(result.msg, {\n\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t    });\n\n\t\t    \tif(result){\n\t\t    \t\tnavigate('/login');\n\t\t    \t}\n\t    \t}else{\n\t    \t\t toast.error(result.msg, {\n\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t    });\n\t\t\t\treturn false;\n\t    \t}\n           });\n\n\t\n    }\n\n\treturn (\n\t    <div className=\"register_div\">\n\t\t\t<div className=\"register_div1\">\n\t\t\t\t{successMsg? \n\t\t\t\t\t<div class=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md\" role=\"alert\">\n\t\t\t\t\t<div class=\"flex\">\n\t\t\t\t\t  <div class=\"py-1\"><svg class=\"fill-current h-6 w-6 text-teal-500 mr-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"/></svg></div>\n\t\t\t\t\t  <div>\n\t\t\t\t\t\t<p class=\"font-bold\">Thank you for shopping with us</p>\n\t\t\t\t\t\t<p class=\"text-sm\">Track you order detail here <Link to={`/tankyou/?session_id=${successMsg}`}>Go to Other Page</Link> </p>\n\t\t\t\t\t  </div>\n\t\t\t\t\t</div>\n\t\t\t\t  </div>\n\t\t\t\t  :''\n\t\t\t    }\n\t\t\t <h2> Signup | Register</h2>\n\t\t\t <input className=\"inputBox\" value={name} onChange={(e)=>{setName(e.target.value)}} type=\"text\" placeholder=\"Enter Name\"/>\n\t\t\t <input className=\"inputBox\" value={email} onChange={(e)=>{setEmail(e.target.value)}} type=\"text\" placeholder=\"Enter Email\"/>\n\t\t\t <input className=\"inputBox\" value={password} onChange={(e)=>{setPassword(e.target.value)}} type=\"text\" placeholder=\"Enter Password\"/>\n\t\t\t <div className=\"appButtonWrp\">\n\t\t\t   <button onClick={sendData} className=\"appButton\">Sign Up</button>\n\t\t\t  </div>\n\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t)\n\n}\n\nexport default Signup"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}