{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useNavigate}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useSelector,useDispatch}from'react-redux';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;const AddProduct=()=>{const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;const[product_title,setName]=useState(\"\");const[product_description,setDesc]=useState(\"\");const[product_price,setPrice]=useState(\"\");const[error,setError]=useState(false);const navigate=useNavigate();const userData=useSelector(state=>state.loginRes.authData);const auth=useSelector(state=>state.loginRes.isUserLogin);const product_img_ref=useRef('');const sendProductData=async()=>{if(!product_title||!product_description||!product_price){setError(true);if(!product_title){toast.error('Please enter product title',{position:toast.POSITION.TOP_RIGHT});return false;}if(!product_description){toast.error('Please enter product description',{position:toast.POSITION.TOP_RIGHT});return false;}if(!product_price){toast.error('Please enter product price',{position:toast.POSITION.TOP_RIGHT});return false;}// if(!filename){\n// \ttoast.error('Product image can`t be blank..', {\n//       position: toast.POSITION.TOP_RIGHT,\n//     });\n//     return false;\n// }\nreturn false;}/*---------------------------------\n    \t| Send data to Node Js Api\n    \t-----------------------------------*/const user_id=userData._id;const imagedata=product_img_ref.current.files[0];let formData=new FormData();formData.append('product_image',imagedata);formData.append('product_title',product_title);formData.append('product_description',product_description);formData.append('product_price',product_price);axios(API_BASE_URL+'/product/add-product',{method:\"post\",data:formData,withCredentials:true}).then(function(result){result=result.data;if(result.status==true){toast.success('Product added successfully!',{position:toast.POSITION.TOP_RIGHT});navigate('/');}else{toast.error(result.msg,{position:toast.POSITION.TOP_RIGHT});}});};return/*#__PURE__*/_jsx(\"div\",{className:\"register_div\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register_div1\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Add Product\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",value:product_title,onChange:e=>{setName(e.target.value);},type:\"text\",placeholder:\"Enter Product Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",value:product_description,onChange:e=>{setDesc(e.target.value);},type:\"textarea\",placeholder:\"Enter Product Description\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",value:product_price,onChange:e=>{setPrice(e.target.value);},type:\"text\",placeholder:\"Enter Product Price\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",type:\"file\",accept:\"image/*\",ref:product_img_ref}),/*#__PURE__*/_jsx(\"div\",{className:\"appButtonWrp\",children:/*#__PURE__*/_jsx(\"button\",{onClick:sendProductData,className:\"appButton\",children:\"Add Product\"})})]})});};export default AddProduct;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","ToastContainer","toast","useSelector","useDispatch","axios","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","AddProduct","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","product_title","setName","product_description","setDesc","product_price","setPrice","error","setError","navigate","userData","state","loginRes","authData","auth","isUserLogin","product_img_ref","sendProductData","position","POSITION","TOP_RIGHT","user_id","_id","imagedata","current","files","formData","FormData","append","method","data","then","result","status","success","msg","className","children","value","onChange","e","target","type","placeholder","accept","ref","onClick"],"sources":["/Users/navneetprogrammer/Desktop/NodeReact/frontend/src/components/Admin/Product/AddProduct.js"],"sourcesContent":["import React,{useState,useEffect, useRef} from 'react'\nimport { useNavigate }  from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport axios from 'axios';\naxios.defaults.withCredentials = true\n\n\nconst AddProduct = ()=>{\n\n\tconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL\n\n\tconst [product_title,setName]       = useState(\"\");\n    const [product_description,setDesc] = useState(\"\");\n    const [product_price,setPrice]      = useState(\"\");\n    const [error,setError]              = useState(false);\n    \n    const navigate                      = useNavigate();\n    const userData                      = useSelector((state) => state.loginRes.authData);\n    const auth                          = useSelector((state) => state.loginRes.isUserLogin);\n    const product_img_ref               = useRef('');\n\n    const sendProductData = async ()=>{\n\n    \t\tif(!product_title || !product_description || !product_price  ){\n    \t\t\t\n    \t\t\tsetError(true);\n\n    \t\t\tif(!product_title){\n    \t\t\t\ttoast.error('Please enter product title', {\n\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t    });\n\t\t\t\t    return false;\n    \t\t\t}\n\n    \t\t\tif(!product_description){\n    \t\t\t\ttoast.error('Please enter product description', {\n\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t    });\n\t\t\t\t    return false;\n    \t\t\t}\n\n    \t\t\tif(!product_price){\n    \t\t\t\ttoast.error('Please enter product price', {\n\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t    });\n\t\t\t\t    return false;\n    \t\t\t}\n    \t\t\t// if(!filename){\n    \t\t\t// \ttoast.error('Product image can`t be blank..', {\n\t\t\t\t//       position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t//     });\n\t\t\t\t//     return false;\n    \t\t\t// }\n    \t\t\treturn false;\n    \t\t}\n\n\n    \t/*---------------------------------\n    \t| Send data to Node Js Api\n    \t-----------------------------------*/\n\n    \t\n\n    \tconst  user_id   = userData._id;\n    \tconst  imagedata = product_img_ref.current.files[0];\n\t    let    formData  = new FormData();\n      formData.append('product_image',imagedata);\n      formData.append('product_title',product_title);\n      formData.append('product_description',product_description);\n      formData.append('product_price',product_price);\n      \n    \t axios(API_BASE_URL+'/product/add-product', {\n              method: \"post\",\n              data  : formData,\n              withCredentials: true\n            }).then(function (result) {\n\n            \t result = result.data\n            \t if(result.status == true){\n\n\t\t\t    \t\ttoast.success('Product added successfully!', {\n\t\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t\t    });\n\n\t\t\t    \t\tnavigate('/');\n\t\t\t     }else{\n\t\t\t     \ttoast.error(result.msg, {\n\t\t\t\t\t      position: toast.POSITION.TOP_RIGHT,\n\t\t\t\t\t    });\n\t\t\t     }\n\n            });\n    \t\n    \t \n    \t\n\t\n    }\n\n\treturn (\n\n\t\t<div className=\"register_div\">\n            <div className=\"register_div1\">\n    \t\t <h2> Add Product</h2>\n    \t\t <input className=\"inputBox\" value={product_title} onChange={(e)=>{setName(e.target.value)}} type=\"text\" placeholder=\"Enter Product Name\"/>\n    \t\t <input className=\"inputBox\" value={product_description} onChange={(e)=>{setDesc(e.target.value)}} type=\"textarea\" placeholder=\"Enter Product Description\"/>\n    \t\t <input className=\"inputBox\" value={product_price} onChange={(e)=>{setPrice(e.target.value)}} type=\"text\" placeholder=\"Enter Product Price\"/>\n    \t\t <input className=\"inputBox\" type=\"file\" accept=\"image/*\" ref={product_img_ref}  />\n    \t\t <div className=\"appButtonWrp\">\n                <button onClick={sendProductData} className=\"appButton\">Add Product</button>\n             </div>\n    \t\t</div>\n        </div>\n\t)\n\n}\n\nexport default AddProduct"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}